function Swipe(t,n){"use strict";function c(){o=s.children,u=o.length,o.length<2&&(n.continuous=!1),a.transitions&&n.continuous&&o.length<3&&(s.appendChild(o[0].cloneNode(!0)),s.appendChild(s.children[1].cloneNode(!0)),o=s.children),r=new Array(o.length),l=t.clientWidth,s.style.width=o.length*l+"px";for(var e=o.length;e--;){var i=o[e];i.style.width=l+"px",i.setAttribute("data-index",e),a.transitions&&(i.style.left=e*-l+"px",m(e,f>e?-l:e>f?l:0,0))}n.continuous&&a.transitions&&(m(w(f-1),-l,0),m(w(f+1),l,0)),a.transitions||(s.style.left=f*-l+"px"),t.style.visibility="visible"}function v(){n.continuous?p(f-1):f&&p(f-1)}function h(){n.continuous?p(f+1):f<o.length-1&&p(f+1)}function w(t){return(o.length+t%o.length)%o.length}function p(t,e){if(f!=t){if(a.transitions){var s=Math.abs(f-t)/(f-t);if(n.continuous){var u=s;s=-r[w(t)]/l,s!==u&&(t=-s*o.length+t)}for(var c=Math.abs(f-t)-1;c--;)m(w((t>f?t:f)-c-1),l*s,0);t=w(t),m(f,l*s,e||d),m(t,0,e||d),n.continuous&&m(w(t-s),-(l*s),0)}else t=w(t),g(f*-l,t*-l,e||d);f=t,i(n.callback&&n.callback(f,o[f]))}}function m(t,n,e){E(t,n,e),r[t]=n}function E(t,n,e){var i=o[t],a=i&&i.style;a&&(a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=e+"ms",a.webkitTransform="translate("+n+"px,0)translateZ(0)",a.msTransform=a.MozTransform=a.OTransform="translateX("+n+"px)")}function g(t,e,i){if(!i)return void(s.style.left=e+"px");var a=+new Date,r=setInterval(function(){var l=+new Date-a;return l>i?(s.style.left=e+"px",x&&y(),n.transitionEnd&&n.transitionEnd.call(event,f,o[f]),void clearInterval(r)):void(s.style.left=(e-t)*(Math.floor(l/i*100)/100)+t+"px")},4)}function y(){b=setTimeout(h,x)}function T(){x=0,clearTimeout(b)}var e=function(){},i=function(t){setTimeout(t||e,0)},a={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in n)if(void 0!==t.style[n[e]])return!0;return!1}(document.createElement("swipe"))};if(t){var o,r,l,u,s=t.children[0];n=n||{};var f=parseInt(n.startSlide,10)||0,d=n.speed||300;n.continuous=void 0!==n.continuous?n.continuous:!0;var b,$,x=n.auto||0,L={},k={},D={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":i(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":i(this.transitionEnd(t));break;case"resize":i(c)}n.stopPropagation&&t.stopPropagation()},start:function(t){var n=t.touches[0];L={x:n.pageX,y:n.pageY,time:+new Date},$=void 0,k={},s.addEventListener("touchmove",this,!1),s.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){n.disableScroll&&t.preventDefault();var e=t.touches[0];k={x:e.pageX-L.x,y:e.pageY-L.y},"undefined"==typeof $&&($=!!($||Math.abs(k.x)<Math.abs(k.y))),$||(t.preventDefault(),T(),n.continuous?(E(w(f-1),k.x+r[w(f-1)],0),E(f,k.x+r[f],0),E(w(f+1),k.x+r[w(f+1)],0)):(k.x=k.x/(!f&&k.x>0||f==o.length-1&&k.x<0?Math.abs(k.x)/l+1:1),E(f-1,k.x+r[f-1],0),E(f,k.x+r[f],0),E(f+1,k.x+r[f+1],0)))}},end:function(t){var e=+new Date-L.time,i=Number(e)<250&&Math.abs(k.x)>20||Math.abs(k.x)>l/2,a=!f&&k.x>0||f==o.length-1&&k.x<0;n.continuous&&(a=!1);var u=k.x<0;$||(i&&!a?(u?(n.continuous?(m(w(f-1),-l,0),m(w(f+2),l,0)):m(f-1,-l,0),m(f,r[f]-l,d),m(w(f+1),r[w(f+1)]-l,d),f=w(f+1)):(n.continuous?(m(w(f+1),l,0),m(w(f-2),-l,0)):m(f+1,l,0),m(f,r[f]+l,d),m(w(f-1),r[w(f-1)]+l,d),f=w(f-1)),n.callback&&n.callback(f,o[f])):n.continuous?(m(w(f-1),-l,d),m(f,0,d),m(w(f+1),l,d)):(m(f-1,-l,d),m(f,0,d),m(f+1,l,d))),s.removeEventListener("touchmove",D,!1),s.removeEventListener("touchend",D,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==f&&(x&&y(),n.transitionEnd&&n.transitionEnd.call(t,f,o[f]))}};return c(),x&&y(),a.addEventListener?(a.touch&&s.addEventListener("touchstart",D,!1),a.transitions&&(s.addEventListener("webkitTransitionEnd",D,!1),s.addEventListener("msTransitionEnd",D,!1),s.addEventListener("oTransitionEnd",D,!1),s.addEventListener("otransitionend",D,!1),s.addEventListener("transitionend",D,!1)),window.addEventListener("resize",D,!1)):window.onresize=function(){c()},{setup:function(){c()},slide:function(t,n){T(),p(t,n)},prev:function(){T(),v()},next:function(){T(),h()},stop:function(){T()},getPos:function(){return f},getNumSlides:function(){return u},kill:function(){T(),s.style.width="",s.style.left="";for(var t=o.length;t--;){var n=o[t];n.style.width="",n.style.left="",a.transitions&&E(t,0,0)}a.addEventListener?(s.removeEventListener("touchstart",D,!1),s.removeEventListener("webkitTransitionEnd",D,!1),s.removeEventListener("msTransitionEnd",D,!1),s.removeEventListener("oTransitionEnd",D,!1),s.removeEventListener("otransitionend",D,!1),s.removeEventListener("transitionend",D,!1),window.removeEventListener("resize",D,!1)):window.onresize=null}}}}$("#games").on("click",{target:$("#games").attr("local")},function(t){$("body").scrollTo(t.data.target,1e3)}),$("#top").on("click",{target:$("#top").attr("local")},function(t){$("body").scrollTo(t.data.target,1e3)}),$(document).ready(function(){$(".nav a").each(function(){void 0!==$(this).attr("data-local")&&$(this).on("click",function(t){$("body").scrollTo($(this).attr("data-local"),500)})})}),$(window).load(function(){$(".nav .site_loading").hide(),$(".nav .site_ready").removeClass("site_ready").show().addClass("site_loaded"),$("body .top_loading").removeClass("top_loading").addClass("top")}),(window.jQuery||window.Zepto)&&!function(t){t.fn.Swipe=function(n){return this.each(function(){t(this).data("Swipe",new Swipe(t(this)[0],n))})}}(window.jQuery||window.Zepto);